{"version":3,"sources":["System/Time/ClockTime.ts"],"names":[],"mappings":"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","file":"ClockTime.js","sourcesContent":["/*!\r\n * @author electricessence / https://github.com/electricessence/\r\n * Originally based upon .NET source but with many additions and improvements.\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\nimport {TimeQuantity} from \"./TimeQuantity\";\r\nimport {IClockTime} from \"./ITimeStamp\";\r\nimport {Minutes, Seconds, Milliseconds, Ticks} from \"./HowMany\";\r\nimport __extendsImport from \"../../extends\";\r\n// noinspection JSUnusedLocalSymbols\r\nconst __extends = __extendsImport;\r\n\r\n\r\nexport class ClockTime extends TimeQuantity implements IClockTime\r\n{\r\n\r\n\treadonly days:number;\r\n\treadonly hour:number;\r\n\treadonly minute:number;\r\n\treadonly second:number;\r\n\treadonly millisecond:number;\r\n\treadonly tick:number;\r\n\r\n\tconstructor(milliseconds:number);\r\n\tconstructor(hours:number, minutes:number, seconds?:number, milliseconds?:number);\r\n\tconstructor(...args:number[])\r\n\t{\r\n\t\tsuper(\r\n\t\t\targs.length>1\r\n\t\t\t\t? ClockTime.millisecondsFromTime(\r\n\t\t\t\targs[0] || 0,\r\n\t\t\t\targs[1] || 0,\r\n\t\t\t\targs.length>2 && args[2] || 0,\r\n\t\t\t\targs.length>3 && args[3] || 0\r\n\t\t\t)\r\n\t\t\t\t: (args.length>0 && args[0] || 0)\r\n\t\t);\r\n\r\n\t\tconst ms = Math.abs(this.getTotalMilliseconds());\r\n\t\tlet msi = Math.floor(ms);\r\n\r\n\t\tthis.tick = (ms - msi)*Ticks.Per.Millisecond;\r\n\r\n\t\tthis.days = (msi/Milliseconds.Per.Day) | 0;\r\n\t\tmsi -= this.days*Milliseconds.Per.Day;\r\n\r\n\t\tthis.hour = (msi/Milliseconds.Per.Hour) | 0;\r\n\t\tmsi -= this.hour*Milliseconds.Per.Hour;\r\n\r\n\t\tthis.minute = (msi/Milliseconds.Per.Minute) | 0;\r\n\t\tmsi -= this.minute*Milliseconds.Per.Minute;\r\n\r\n\t\tthis.second = (msi/Milliseconds.Per.Second) | 0;\r\n\t\tmsi -= this.second*Milliseconds.Per.Second;\r\n\r\n\t\tthis.millisecond = msi;\r\n\r\n\t\tObject.freeze(this);\r\n\t}\r\n\r\n\r\n\t// Static version for relative consistency.  Constructor does allow this format.\r\n\tstatic from(hours:number, minutes:number, seconds:number = 0, milliseconds:number = 0):ClockTime\r\n\t{\r\n\t\treturn new ClockTime(hours, minutes, seconds, milliseconds);\r\n\t}\r\n\r\n\tstatic millisecondsFromTime(\r\n\t\thours:number,\r\n\t\tminutes:number,\r\n\t\tseconds:number = 0,\r\n\t\tmilliseconds:number = 0):number\r\n\t{\r\n\t\tlet value = hours;\r\n\t\tvalue *= Minutes.Per.Hour;\r\n\t\tvalue += minutes;\r\n\t\tvalue *= Seconds.Per.Minute;\r\n\t\tvalue += seconds;\r\n\t\tvalue *= Milliseconds.Per.Second;\r\n\t\tvalue += milliseconds;\r\n\t\treturn value;\r\n\t}\r\n\r\n\ttoString(/*format?:string, formatProvider?:IFormatProvider*/):string\r\n\t{\r\n\t\t/* INSERT CUSTOM FORMATTING CODE HERE */\r\n\r\n\r\n\t\tconst _ = this;\r\n\t\tconst a:string[] = [];\r\n\r\n\t\tif(_.days)\r\n\t\t\ta.push(pluralize(_.days, \"day\"));\r\n\r\n\t\tif(_.hour)\r\n\t\t\ta.push(pluralize(_.hour, \"hour\"));\r\n\r\n\t\tif(_.minute)\r\n\t\t\ta.push(pluralize(_.minute, \"minute\"));\r\n\r\n\t\tif(_.second)\r\n\t\t\ta.push(pluralize(_.second, \"second\"));\r\n\r\n\t\tif(a.length>1)\r\n\t\t\ta.splice(a.length - 1, 0, \"and\");\r\n\r\n\t\treturn a.join(\", \").replace(\", and, \", \" and \");\r\n\t}\r\n\r\n}\r\n\r\n\r\n// Temporary until the full TimeSpanFormat is available.\r\nfunction pluralize(value:number, label:string):string\r\n{\r\n\tif(Math.abs(value)!==1)\r\n\t\tlabel += \"s\";\r\n\r\n\treturn label;\r\n}\r\n\r\nexport default ClockTime;"]}